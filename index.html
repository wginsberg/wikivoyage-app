<!doctype html><html lang="en"><head><title>Wikivoyage App</title><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="index.css"><link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/><link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚙️</text></svg>"><script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script><script src="https://unpkg.com/protomaps@1.19.0/dist/protomaps.min.js"></script><link rel="icon" href="./favicon.ico"/><meta name="theme-color" content="#000000"/><meta name="description" content="Web site created using create-react-app"/><link rel="apple-touch-icon" href="./logo192.png"/><link rel="manifest" href="./manifest.json"/><title>React App</title><script defer="defer" src="./static/js/main.92a0c374.js"></script><link href="./static/css/main.fd00bf8f.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"></div><header id="header">Where can I go?</header><div id="map"></div><script type="text/javascript">const MARKER_STYLE_DEFAULT={radius:5,opacity:0,color:"blue",fillOpacity:.5,weight:10},MARKER_STYLE_ACTIVE={color:"green",fillOpacity:1},LINE_STYLE_DEFAULT={color:"black",opacity:.1},LINE_STYLE_ACTIVE={color:"black",opacity:.5},map=L.map("map"),markers={},polylines={},p=new protomaps.PMTiles("tiles.pmtiles");let activeMarker;p.metadata().then((e=>{let t=e.bounds.split(","),o=[[+t[1],+t[0]],[+t[3],+t[2]]];layer=protomaps.leafletLayer({attribution:'<a href="https://protomaps.com">Protomaps</a> © <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>',url:p,bounds:o}),layer.addTo(map),map.fitBounds(o)})).then((()=>fetch("data/mexico.json").then((e=>e.json())))).then((({nodes:e,edges:t})=>{for(edge of t){const{origin:e,destination:t}=edge,o=[e.lat,e.lng],a=[t.lat,t.lng],n=[o,a],l=L.polyline(n,LINE_STYLE_DEFAULT);l.addTo(map),polylines[o]||(polylines[o]=new Set),polylines[a]||(polylines[a]=new Set),polylines[o].add(l),polylines[a].add(l)}for(node of e){const{lat:e,lng:t}=node,o=L.circleMarker([e,t],MARKER_STYLE_DEFAULT);o.addTo(map),o.on("click",onClickMarker),markers[[e,t]]=o}window.nodes=e,window.edges=t}));let activeLines=[];function onClickMarker(e){activeMarker&&activeMarker.setStyle(MARKER_STYLE_DEFAULT);for(const e of activeLines)e.setStyle(LINE_STYLE_DEFAULT);const{lat:t,lng:o}=e.latlng,a=markers[[t,o]];a.setStyle(MARKER_STYLE_ACTIVE),activeMarker=a;const n=polylines[[t,o]]||[];for(const e of n)e.setStyle(LINE_STYLE_ACTIVE);activeLines=n;const l=document.getElementById("header"),i=window.nodes.find((e=>e.lat===t&&e.lng===o)).title,r=`https://en.wikivoyage.org/wiki/${i}`;l.innerHTML=`<a href="${r}" target="_blank">${i}</a>`}</script></body></html>